<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CSCMU</title>
  <base href="/">
  <!-- <script src ="https://cdnjs.cloudflare.com/ajax/libs/brython/3.7.4/brython.js"></script> -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body >
    <button id="pythonFunctionCaller" hidden>testing button</button>
  <app-root></app-root>
  
<script id="python_script" type="text/python">
import sys
import traceback
from browser import document, timer, alert

FIRST_TIME = True
def inform(*args):
    document["status-info"].html = "".join(args)

def _write(*args):
    document[document["OutputDiv"].text].html += "".join(args)
def __write(*args):
    document[document["OutputDiv"].text].html += '<span class="error">' + "".join(args) + "</span>"

def outputInit():
    #alert('stdout')
    sys.stdout.write = _write
    sys.stderr.write = __write

outputInit() 
def clear_print():
    
    document[document["OutputDiv"].text].html = ""

def run_code(ev):
    outputInit()
    global FIRST_TIME
    if FIRST_TIME:
        FIRST_TIME = False
        #inform("Importing turtle module for the first time and processing; please wait")
    document["mybutton"].class_name = "btn-disabled"
    # delay to allow updated DOM with above text to be shown.
    timer.set_timeout(exec_code, 1)

#document["mybutton"].bind("click", run_code)

from browser import document, svg

class Shape:
    def __init__(self, fill, border):
        self._fill = fill
        self._border = border


class Rect(Shape):
    def __init__(self, left, top, width, height, fill="black", border=None, dashes=False, borderWidth=2):
        super().__init__(fill, border)
        self._top = str(top)
        self._left = str(left)
        self._width = str(width)
        self._height = str(height)
        self._dashes = dashes
        self._borderWidth = str(borderWidth)
        self.render()


    def render(self):
        from browser import document, svg
        if self._dashes == False:
            rect = svg.rect(x=self._left, y=self._top, width=self._width, height=self._height, stroke=self._border,\
            stroke_width=self._borderWidth, fill=self._fill)
        else:
            rect = svg.rect(x=self._left, y=self._top, width=self._width, height=self._height, stroke=self._border,\
            stroke_width=self._borderWidth, stroke_dasharray='5', fill=self._fill)
        panel = document['panel']
        panel <= rect



class Oval(Shape):
    def __init__(self, centerX, centerY, radiusX, radiusY, fill='black', border=None):
        super().__init__(fill, border)
        self._centerX = str(centerX)
        self._centerY = str(centerY)
        self._radiusX = str(radiusX)
        self._radiusY = str(radiusY)
        self._fill = fill
        self.render()


    def render(self):
        from browser import document, svg
        ellipse = svg.ellipse(cx=self._centerX, cy=self._centerY, rx=self._radiusX, ry=self._radiusY, stroke=self._border,\
        stroke_width='2', fill=self._fill)
        panel = document['panel']
        panel <= ellipse


class Circle(Shape):
    def __init__(self, centerX, centerY, radius, fill='black'):
       self._centerX = str(centerX)
       self._centerY = str(centerY)
       self._radius = str(radius)
       self._fill = fill
       self.render()


    def render(self):
        from browser import document, svg
        circle =  svg.ellipse(cx=self._centerX, cy=self._centerY, rx=self._radius, ry=self._radius,\
        stroke_width='2', fill=self._fill)
        panel = document['panel']
        panel <= circle


class Line(Shape):
    def __init__(self, x1, y1, x2, y2):
        self._x1 = str(x1)
        self._y1 = str(y1)
        self._x2 = str(x2)
        self._y2 = str(y2)
        self.render()


    def render(self):
        from browser import document, svg
        line = svg.line(x1=self._x1, y1=self._y1, x2=self._x2, y2=self._y2, stroke="brown")
        panel = document['panel']
        panel <= line





def python_initialization():
    alert("Usama")
    import turtle
    turtle.set_defaults(
        turtle_canvas_wrapper = document['turtle-div']
    )
    t = turtle.Turtle()
    t.width(5)

    for c in ['red', '#00ff00', '#fa0', 'rgb(0,0,200)']:
        t.color(c)
        t.forward(100)
        t.left(90)

    # dot() and write() do not require the pen to be down
    t.penup()
    t.goto(-30, -100)
    t.dot(40, 'rgba(255, 0, 0, 0.5')
    t.goto(30, -100)
    t.dot(40, 'rgba(0, 255, 0, 0.5')
    t.goto(0, -70)
    t.dot(40, 'rgba(0, 0, 255, 0.5')
    t.goto(0, 125)
    t.color('purple')
    t.write("I love Brython!", font=("Arial", 20, "normal"))
    turtle.done()

document["pythonFunctionCaller"].bind("click", run_code)

def exec_code():
    code = document["TestingCode"].text
    _code = code
    #_code= document["inline-editor-68eb97269a19374dd4ffc0a6538caf06b497ecce"].text
    try:
        exec(_code)
    except:
        try:
            traceback.print_exc()
        except:
            print("could not print traceback")
    document["clear"].class_name = "btn-enabled"
    document["replay-scene"].class_name = "btn-enabled"
    inform("")

def delayed_clear():
    
    from turtle import restart
    restart()
    
    inform("")
    
    document["mybutton"].class_name = "btn-enabled"
    
    document["clear"].class_name = "btn-disabled"
    
    clear_print()

def clear(ev):
    
    global FIRST_TIME
    if FIRST_TIME:
        FIRST_TIME = False
        #inform("Importing turtle module for the first time and processing; please wait")
        document["run"].class_name = "btn-disabled"
    # delay to allow updated DOM with above text to be shown.
    timer.set_timeout(delayed_clear, 1)

document["clear"].bind("click", clear)
def replay(ev):
    # importing turtle earlier slows down the loading
    # of this page
    from turtle import replay_scene
    replay_scene()

#document["replay-scene"].bind("click", replay)

def copy_content(ev):
    choice = document["demo_selector"].value
    document["source"].text = document['demo'+ str(choice)].text
    document["info"].html = document['info'+ str(choice)].html
    clear(ev)

#document["demo_selector"].bind("change", copy_content)

# Start with first demo
#document["source"].text = document["demo1"].text
#document["info"].html = document["info1"].html
</script>

  <!-- <script type="text/python">
    from browser import document, alert
    
    # bind event 'click' on button to function echo
    
    def echo(ev):
        alert("testingVariable")
    
    document["mybutton"].bind("click", echo)
    </script> -->

<div id="TestingCode" style='display:none'>
print('testing variables')
</div>
<div id="OutputDiv" style='display:none'></div>

   <!-- <script id="python_script" type="text/python">
        import sys
        import traceback
        from browser import document, timer
        
        FIRST_TIME = True
        def inform(*args):
            document["status-info"].html = "".join(args)
        
        def _write(*args):
            document["turtle-print-output"].html += "".join(args)
        def __write(*args):
            document["turtle-print-output"].html += '<span class="error">' + "".join(args) + "</span>"
        
        sys.stdout.write = _write
        sys.stderr.write = __write
        
        def clear_print():
            document["turtle-print-output"].html = ""
        
        def run_code(ev):
            global FIRST_TIME
            if FIRST_TIME:
                FIRST_TIME = False
                inform("Importing turtle module for the first time and processing; please wait")
            else:
                inform("Processing")
            document["run"].class_name = "btn-disabled"
            # delay to allow updated DOM with above text to be shown.
            timer.set_timeout(exec_code, 1)
        
        document["runCodePython"].bind("click", run_code)
        
        def exec_code():
            _code= "print ('usama alvi')"
            try:
                exec(_code)
            except:
                try:
                    traceback.print_exc()
                except:
                    print("could not print traceback")
            document["clear"].class_name = "btn-enabled"
            document["replay-scene"].class_name = "btn-enabled"
            inform("")
        
        def delayed_clear():
            from turtle import restart
            restart()
            inform("")
            document["run"].class_name = "btn-enabled"
            document["replay-scene"].class_name = "btn-disabled"
            document["clear"].class_name = "btn-disabled"
            clear_print()
        
        def clear(ev):
            global FIRST_TIME
            if FIRST_TIME:
                FIRST_TIME = False
                inform("Importing turtle module for the first time and processing; please wait")
                document["run"].class_name = "btn-disabled"
            # delay to allow updated DOM with above text to be shown.
            timer.set_timeout(delayed_clear, 1)
        
        document["clear"].bind("click", clear)
        
        def replay(ev):
            # importing turtle earlier slows down the loading
            # of this page
            from turtle import replay_scene
            replay_scene()
        
        document["replay-scene"].bind("click", replay)
        
        def copy_content(ev):
            choice = document["demo_selector"].value
            document["source"].text = document['demo'+ str(choice)].text
            document["info"].html = document['info'+ str(choice)].html
            clear(ev)
        
        document["demo_selector"].bind("change", copy_content)
        
        # Start with first demo
        document["source"].text = document["demo1"].text
        document["info"].html = document["info1"].html
        </script> -->
</body>
</html>
